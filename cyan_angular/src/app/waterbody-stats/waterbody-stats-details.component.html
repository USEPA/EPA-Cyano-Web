<button mat-button (click)="exit();" class="locations-exit">X</button>

<div>
	<h4>Waterbody Information</h4><br>
	<div>
		<b>Object ID:</b> {{selectedWaterbody.objectid}}<br>
		<b>Name:</b> {{selectedWaterbody.name}}<br>
		<b>Centroid Latitude:</b> {{selectedWaterbody.centroid_lat}}<br>
		<b>Centroid Longitude:</b> {{selectedWaterbody.centroid_lng}}<br>
		<b>Area:</b> {{wbProps.areasqkm}} km<sup>2</sup><br>
	</div>

	<!-- <br> -->
	<br>

	<mat-form-field>
		<mat-label>Data Type</mat-label>
		<mat-select [(value)]="selectedDataType" (selectionChange)="updateDataType($event.value);">
			<mat-option value="daily">Daily</mat-option>
			<mat-option value="weekly">Weekly</mat-option>
		</mat-select>
	</mat-form-field>
	<br>
	<mat-form-field>
		<mat-label>Available Dates</mat-label>
			<mat-select [(value)]="selectedDate" (selectionChange)="calculateWaterbodyStats($event.value);">
			<mat-option *ngFor="let date of wbStats.dates" [value]="date">
				{{date}}
			</mat-option>
		</mat-select>
	</mat-form-field>

	<br>

	<div class="details_tab" *ngIf="plotStats">

		<!-- Total Cell Counts Plot -->
		<div class="data-item">
		  <div class="chart_header">
		    <div class="chart_title">Total Cell Counts</div>
		    <div class="chart_source_selection"></div>
		  </div>
			<div class="chart_graph">
				<canvas aria-label="Total cell counts" baseChart class="cyan_chart" width="1" height="1"
				  [datasets]="chartData"
				  [options]="chartOptions"
				  [colors]="chartColors"
				  [legend]="chartLegend"
				  [chartType]="chartType"
				  [labels]="chartLabels"
				  (chartHover)="chartHover($event)"
				  (chartClick)="chartClick($event)">
				</canvas>
			</div>
		</div>
		<!-- Cell Concentration Histogram -->
		<div class="data-item">
			<div class="chart_header">
			  <div class="chart_title">Cell Concentration Histogram</div>
			  <div class="chart_source_selection"></div>
			</div>
			<div class="chart_graph">
				<canvas aria-label="Concentration histogram" baseChart class="cyan_chart" width="1" height="1"
				  [datasets]="chartHistoData"
				  [options]="chartOptions"
				  [legend]="chartLegend"
				  [chartType]="chartType"
				  [labels]="chartHistoLabels"
				  (chartHover)="chartHover($event)">
				</canvas>
			</div>
		</div>

	</div>

	<div class="details_tab" *ngIf="calculatingStats">

		<!-- Displays WB stats for a selected date -->
		<div class="data-item">
			<b>Date:</b> {{wbStats.date}}<br>
			<b>Min:</b> {{wbStats.min}} cells/mL<br>
			<b>Max:</b> {{wbStats.max}} cells/mL<br>
			<b>Average:</b> {{wbStats.average}} cells/mL<br>
			<b>Standard Deviation:</b> {{wbStats.stddev}} cells/mL
		</div>

		<div class="data-item">
			<!-- Range selection -->
			<mat-form-field>
				<mat-label>Select range</mat-label>
				<mat-select [(value)]="selectedRange" (selectionChange)="updateHistoChart();">
					<mat-option value="low">Low</mat-option>
					<mat-option value="medium">Medium</mat-option>
					<mat-option value="high">High</mat-option>
					<mat-option value="veryHigh">Very High</mat-option>
				</mat-select>
			</mat-form-field>
			<!-- Stats -->
			<div>
				<b>Min:</b> {{rangeStats.min || "N/A"}} cells/mL<br>
				<b>Max:</b> {{rangeStats.max || "N/A"}} cells/mL<br>
				<b>Average:</b> {{rangeStats.average}} cells/mL<br>
				<b>Standard Deviation:</b> {{rangeStats.stddev}} cells/mL
			</div>
		</div>

	</div>

</div>